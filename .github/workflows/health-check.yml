name: Health Check

on:
  schedule:
    - cron: "*/10 * * * *"
  workflow_dispatch:

jobs:
  check:
    runs-on: ubuntu-latest

    steps:
      - name: Call health endpoint
        run: |
          echo "Checking health..."
          curl -fL https://jariawedding.com/api/health

      - name: Success
        if: success()
        run: echo "Health check passed"

      - name: Failure
        if: failure()
        run: |
          echo "Health check failed"
          exit 1